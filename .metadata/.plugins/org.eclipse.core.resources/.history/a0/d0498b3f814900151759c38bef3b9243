package trb1914;

import java.awt.BorderLayout;
import java.awt.GridLayout;

import javax.swing.JPanel;
import javax.swing.SwingUtilities;

import trb1914.data.Statistics;
import trb1914.data.StatisticsCalculator;
/**
 * The view that displays any statistics
 * @author Mees Gelein
 */
public class StatisticsView extends JPanel{

	/**The statistics that are displayed*/
	private Statistics stats;
	
	/**
	 * Creates the StatisticsView
	 */
	public StatisticsView() {
		makeGUI();
		refresh();
	}
	
	/**
	 * Creates the display components that will show the statistics data
	 */
	private void makeGUI(){
		setLayout(new BorderLayout());
		JPanel contentPanel = new JPanel(new GridLayout(2, 2));
		add(contentPanel);
	}
	
	/**
	 * Refreshes (recalculates) the statistics on a separate thread and refreshes the display 
	 * when the calculations are done
	 */
	public void refresh(){
		new Thread(new Runnable(){
			public void run() {
				stats = StatisticsCalculator.getNewStatistics();
				SwingUtilities.invokeLater(new Runnable() {
					public void run() {
						loadStats();
						revalidate();
						repaint();
					}
				});
			}
		}).start();
	}
	
	/**
	 * Loads the statistics into the view components
	 */
	private void loadStats(){
		
	}
}
